<!DOCTYPE html>
<html>
<head>
  <title>Snake Game</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <h1>Snake Game</h1>
  <canvas id="canvas" width="400" height="400"></canvas>

  <script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    // Snake properties
    var snakeSize = 10;
    var snakeSpeed = 100;
    var snake = [{ x: 0, y: 0 }];
    var snakeDirection = 'right';

    // Food properties
    var foodSize = 10;
    var food = { x: 0, y: 0 };

    // Game loop
    setInterval(function() {
      // Move the snake
      var head = { x: snake[0].x, y: snake[0].y };
      switch (snakeDirection) {
        case 'up':
          head.y -= snakeSize;
          break;
        case 'down':
          head.y += snakeSize;
          break;
        case 'left':
          head.x -= snakeSize;
          break;
        case 'right':
          head.x += snakeSize;
          break;
      }
      snake.unshift(head);

      // Check if the snake has collided with the walls or itself
      if (head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height) {
        alert('Game over!');
        location.reload();
      }
      for (var i = 1; i < snake.length; i++) {
        if (head.x === snake[i].x && head.y === snake[i].y) {
          alert('Game over!');
          location.reload();
        }
      }

      // Check if the snake has eaten the food
      if (head.x === food.x && head.y === food.y) {
        // Generate new food location
        food.x = Math.floor(Math.random() * canvas.width / foodSize) * foodSize;
        food.y = Math.floor(Math.random() * canvas.height / foodSize) * foodSize;

        // Increase the snake size
        snakeSpeed -= 5;
      } else {
        // Remove the tail segment
        snake.pop();
      }

      // Draw the game
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = 'red';
      ctx.fillRect(food.x, food.y, foodSize, foodSize);
      ctx.fillStyle = 'green';
      for (var i = 0; i < snake.length; i++) {
        ctx.fillRect(snake[i].x, snake[i].y, snakeSize, snakeSize);
      }
    }, snakeSpeed);

    // Handle keyboard input
    document.addEventListener('keydown', function(event) {
      switch (event.keyCode) {
        case 38: // up arrow
          if (snakeDirection !== 'down') {
            snakeDirection = 'up';
          }
          break;
        case 40: // down arrow
          if (snakeDirection !== 'up') {
            snakeDirection = 'down';
          }
          break;
        case 37: // left arrow
          if (snakeDirection !== 'right') {
            snakeDirection = 'left';
          }
          break;
        case 39: // right arrow
          if (snakeDirection !== 'left') {
            snakeDirection = 'right';
          }
          break;
      }
    });
  </script>
</body>
</html>
